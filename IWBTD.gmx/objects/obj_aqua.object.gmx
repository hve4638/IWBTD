<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_aqua</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10</depth>
  <persistent>0</persistent>
  <parentName>playerKiller</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>MAXHP=220;
HP=220;
ARMOR=1;
onhealth=true;
drawhp=0;

image_alpha=0.65;
image_speed=0;

DIR=true;
EFFECT=false;
D=0;
K=0;

bb_dir=0;
bb_dis=0;

inv=false;
phase=0;

scp_pattern_create(5,tin_boss5_new1,tin_boss5_new2,tin_boss5_new3,tin_boss5_new4,tin_boss5_new5);

nx_p=0;
alarm[1]=30;

f_spd=0;
f_dir=0;
f_y=0;

sx=x; sy=y;
xx=x; yy=y;

with(sys_global) {vname=es('boss','aqua'); vtime=100;}


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///After
 T=0;
aftx=ds_list_create();
afty=ds_list_create();

for(var i=0;i&lt;5;i++) {
    ds_list_add(aftx,-999);
    ds_list_add(afty,-999);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_user(0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists(obj_player) exit;

scp_timeline(nx_p);
//scp_timeline(tin_boss5_new3_2);

/*
if phase==0 timeline_index=choose(tin_boss5a,tin_boss5b,tin_boss5c,tin_boss5d);
else if phase==1 timeline_index=choose(tin_boss5a_2,tin_boss5b_2,tin_boss5c_2);
timeline_loop=0;
timeline_position=0;
timeline_running=1;
timeline_speed=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>obj_aqua</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Dir
if f_dir {
    f_spd+=0.01;
    if 0.2&lt;f_spd f_dir=!f_dir;
} else {
    f_spd-=0.01;
    if f_spd&lt;-0.2 f_dir=!f_dir;
}
f_y+=f_spd;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Movement
if scp_follow(xx,yy,10)&lt;10 &amp;&amp; 15&lt;alarm[0] {alarm[0]=15;}

//if follow &amp;&amp; scp_follow(xx,yy,10) follow=false;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Last Pattern
if timeline_index==tin_boss5L &amp;&amp; HP&lt;=20 {
    if K++ mod 120 == 0{
        var dir=point_direction(x,y,Me.x,Me.y);
        for(var i=-75;i&lt;=75;i+=25) {
            var j=instance_create(x,y,obj_beam);
            j.direction=dir+i;
            j.speed=2;
            j.movspd=0;
            j.minspd=2;
        }
    } else if K mod 120 == 30 {
        with(obj_beam) {
            if minspd==2 {
                var j=instance_create(x,y,obj_beam);
                j.direction=direction-15;
                j.speed=speed-0.1;
                j.movspd=0.05;
                j.minspd=0;
                j.maxspd=5;
                
                var j=instance_create(x,y,obj_beam);
                j.direction=direction+15;
                j.speed=speed-0.1;
                j.movspd=0.05;
                j.minspd=0;
                j.maxspd=5;
                
                instance_destroy();
            }
        }
    }
}

if timeline_index==tin_boss5L {
    with(obj_danmaku) {
        var tx, ty;
        tx=x; ty=y;
            with(sys_part) {
                if ++prt[24]==0 event_user(0);
                part_system_depth(Sys[24],-10);
                part_emitter_region(Sys[24],emitter[24],tx-3,tx+3,ty-3,ty+3,ps_shape_ellipse,1);
                part_emitter_burst(Sys[24],emitter[24],particle[24],8);
            }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Bubble
with(obj_danmaku) {
    if tag[0]==1 {
        x=other.x+lengthdir_x(other.bb_dis,other.bb_dir+tag[2]);
        y=other.y+lengthdir_y(other.bb_dis,other.bb_dir+tag[2]);
    }
}

bb_dir-=4;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Debug
/*
if cheat &amp;&amp; keyboard_check_pressed(ord('K')) {
        alarm[0]=-1;
        scp_bosskill(3);
    
        with(obj_cirle) instance_destroy();
        with(obj_spell) {
            repeat(5) instance_create(x+irandom_range(-4,4),y+irandom_range(-4,4),obj_bubble);
            instance_destroy();
        }
        with(obj_danmaku) {
            repeat(5) instance_create(x+irandom_range(-4,4),y+irandom_range(-4,4),obj_bubble);
            instance_destroy();
        }
        with(obj_beam) instance_destroy();
        scp_timeline(tin_boss5Death);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if onhealth &amp;&amp; !inv {
    audio_play_sound(snd_BossHit,0,0);
    with(other) {instance_destroy();}
    HP-=DEAL*ARMOR;
    
    if HP&lt;=0 {
        scp_bosskill(3);
        
    
        with(obj_cirle) instance_destroy();
        with(obj_spell) {
            repeat(5) instance_create(x+irandom_range(-4,4),y+irandom_range(-4,4),obj_bubble);
            instance_destroy();
        }
        with(obj_danmaku) {
            repeat(5) instance_create(x+irandom_range(-4,4),y+irandom_range(-4,4),obj_bubble);
            instance_destroy();
        }
        alarm[0]=-1;
        
        scp_timeline(tin_boss5Death);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists(obj_player) exit;

ARMOR=1;
xx=irandom_range(416+64+32,672);
yy=irandom_range(128,512-128);

nx_p=scp_pattern_rand(); //choose(tin_boss5_new1,tin_boss5_new2,tin_boss5_new3,tin_boss5_new4,tin_boss5_new5);
if nx_p==tin_boss5_new1 alarm[0]=10;
else alarm[0]=50;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="73">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Health
if onhealth {
    var vx, vy;
    vx=view_xview;
    vy=view_yview;
    
    if HP!=drawhp {
     //if abs(drawhp-HP)&lt;0.5 {drawhp=HP;}
     drawhp+=(HP-drawhp)/10;
    }
    _p=739*(drawhp/MAXHP);
    draw_sprite_ext(spr_bar,0,vx+30,vy+32,1,1,0,c_white,1);
    draw_sprite_part_ext(spr_bar,6,0,0,_p,16,vx+30,vy+32,1,1,c_white,1);
    draw_sprite_ext(spr_bar,1,vx+30,vy+32,1,1,0,c_white,1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>y+=f_y; draw_self(); y-=f_y;
/*
var t="";
var k=0;
for(var i=0;i&lt;ds_list_size(pattern_per);i++) {
    var j=ds_list_find_value(pattern_per,i);
    t+=string(j)+" ";
    k+=j;
}
draw_text(0,0,t+string(k));
draw_text(0,64,pattern_d1);*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
