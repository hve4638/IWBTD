<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_aqua</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10</depth>
  <persistent>0</persistent>
  <parentName>playerKiller</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>MAXHP=120;
HP=120;
ARMOR=1;
onhealth=true;
drawhp=0;

image_speed=0;

DIR=true;
EFFECT=false;
D=0;
K=0;

inv=false;
phase=0;

alarm[0]=60;

sx=x; sy=y;
xx=x; yy=y;


with(sys_global) {vname=es('boss','aqua'); vtime=100;}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///After
 T=0;
aftx=ds_list_create();
afty=ds_list_create();

for(var i=0;i&lt;5;i++) {
    ds_list_add(aftx,-999);
    ds_list_add(afty,-999);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists(obj_player) exit;

if phase==0 timeline_index=choose(tin_boss5a,tin_boss5b,tin_boss5c,tin_boss5d);
else if phase==1 timeline_index=choose(tin_boss5a_2,tin_boss5b_2,tin_boss5c_2);
timeline_loop=0;
timeline_position=0;
timeline_running=1;
timeline_speed=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>obj_aqua</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Dir
if DIR {
    direction=90;
    if D {
     if 0.2&lt;speed {D=!D;}
     speed+=0.01;
    }
    else {
     if speed&lt;-0.2 {D=!D;}
     speed-=0.01;
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var kx, ky;
kx=0; ky=0;

if sx+1&lt;xx {kx=point_distance(sx,0,xx,0)/10;} else if sx&lt;xx {xx=sx;}
if sx-1&gt;xx {kx=-point_distance(sx,0,xx,0)/10;} else if sx&gt;xx {xx=sx;}
if sy+1&lt;yy {ky=point_distance(sy,0,yy,0)/10;} else if sy&lt;yy {yy=sy;} 
if sy-1&gt;yy {ky=-point_distance(sy,0,yy,0)/10;} else if sy&gt;yy {yy=sy;}

sx+=kx; sy+=ky;
x+=kx; y+=ky;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Phase
if phase==0 &amp;&amp; HP&lt;30 ARMOR=0;
else if phase==1 {
    if 10&lt;HP &amp;&amp; HP&lt;50 ARMOR=(HP-10)/50;
    else if HP&lt;10 ARMOR=0;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if timeline_index==tin_boss5L {
    with(obj_danmaku) {
        var tx, ty;
        tx=x; ty=y;
            with(sys_part) {
                if ++prt[24]==0 event_user(0);
                part_system_depth(Sys[24],-10);
                part_emitter_region(Sys[24],emitter[24],tx-3,tx+3,ty-3,ty+3,ps_shape_ellipse,1);
                part_emitter_burst(Sys[24],emitter[24],particle[24],8);
            }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Last Pattern
if timeline_index==tin_boss5L &amp;&amp; HP&lt;=20 {
    if K++ mod 120 == 0{
        var dir=point_direction(x,y,Me.x,Me.y);
        for(var i=-75;i&lt;=75;i+=25) {
            var j=instance_create(x,y,obj_beam);
            j.direction=dir+i;
            j.speed=2;
            j.movspd=0;
            j.minspd=2;
        }
    } else if K mod 120 == 30 {
        with(obj_beam) {
            if minspd==2 {
                var j=instance_create(x,y,obj_beam);
                j.direction=direction-15;
                j.speed=speed-0.1;
                j.movspd=0.05;
                j.minspd=0;
                j.maxspd=5;
                
                var j=instance_create(x,y,obj_beam);
                j.direction=direction+15;
                j.speed=speed-0.1;
                j.movspd=0.05;
                j.minspd=0;
                j.maxspd=5;
                
                instance_destroy();
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Debug
if cheat &amp;&amp; keyboard_check_pressed(ord('K')) {
        alarm[0]=-1;
        scp_bosskill(3);
    
        with(obj_cirle) instance_destroy();
        with(obj_spell) {
            repeat(5) instance_create(x+irandom_range(-4,4),y+irandom_range(-4,4),obj_bubble);
            instance_destroy();
        }
        with(obj_danmaku) {
            repeat(5) instance_create(x+irandom_range(-4,4),y+irandom_range(-4,4),obj_bubble);
            instance_destroy();
        }
        with(obj_beam) instance_destroy();
        scp_timeline(tin_boss5Death);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if onhealth &amp;&amp; !inv {
    audio_play_sound(snd_BossHit,0,0);
    with(other) {instance_destroy();}
    HP-=DEAL*ARMOR;
    
    if HP&lt;=0 &amp;&amp; timeline_index=tin_boss5L {
        scp_bosskill(3);
    
        with(obj_cirle) instance_destroy();
        with(obj_spell) {
            repeat(5) instance_create(x+irandom_range(-4,4),y+irandom_range(-4,4),obj_bubble);
            instance_destroy();
        }
        with(obj_danmaku) {
            repeat(5) instance_create(x+irandom_range(-4,4),y+irandom_range(-4,4),obj_bubble);
            instance_destroy();
        }
        with(obj_beam) instance_destroy();
        scp_timeline(tin_boss5Death);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ARMOR=1;
if phase==0 &amp;&amp; HP&lt;40 {
    phase=1;
    timeline_index=tin_boss5M;
    timeline_loop=0;
    timeline_position=0;
    timeline_running=1;
    timeline_speed=1;
} else if phase==1 &amp;&amp; HP&lt;50 {
    phase=2; HP=50;
    timeline_index=tin_boss5L;
    timeline_loop=0;
    timeline_position=0;
    timeline_running=1;
    timeline_speed=1;
}

else {
    if 416+64&lt;Me.x &amp;&amp; phase==0 {
        xx=Me.x;
        yy=Me.y;
    } else {
        xx=irandom_range(416+64+32,672);
        yy=irandom_range(128,512-128);
    }
    alarm[0]=60;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="73">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Health

if onhealth {
    if HP!=drawhp {
     if abs(drawhp-HP)&lt;0.5 {drawhp=HP;}
     drawhp+=(HP-drawhp)/10;
    }
    _p=739*(drawhp/MAXHP);
    draw_sprite_ext(spr_bar,0,30,32,1,1,0,c_white,1);
    draw_sprite_part_ext(spr_bar,6,0,0,_p,16,30,32,1,1,c_white,1);
    draw_sprite_ext(spr_bar,1,30,32,1,1,0,c_white,1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
/*
psize=ds_list_size(aftx);

for(var i=psize-1;0&lt;=i;i--) {
    var px, py;
    px=ds_list_find_value(aftx,i);
    py=ds_list_find_value(afty,i);
    draw_sprite_ext(spr_aqua,0,px,py,1,1,0,c_white,(i+1)/psize * 0.2);
}

if T++ mod 10 == 0 {
    ds_list_delete(aftx,0);
    ds_list_delete(afty,0);
    ds_list_add(aftx,x);
    ds_list_add(afty,y);
}*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
